require_relative './requires'
logger = CronLogger.new

proxies = "213.166.72.39:9556:TG48Yg:9xR0on
213.166.72.226:9725:TG48Yg:9xR0on
213.166.73.67:9362:TG48Yg:9xR0on
213.166.74.13:9966:TG48Yg:9xR0on
213.166.73.41:9848:TG48Yg:9xR0on
213.166.74.230:9596:TG48Yg:9xR0on
213.166.74.36:9405:TG48Yg:9xR0on
213.166.75.21:9449:TG48Yg:9xR0on
213.166.74.118:9425:TG48Yg:9xR0on
213.166.75.144:9979:TG48Yg:9xR0on
213.166.72.70:9274:TG48Yg:9xR0on
213.166.74.227:9950:TG48Yg:9xR0on
213.166.75.248:9788:TG48Yg:9xR0on
213.166.73.144:9063:TG48Yg:9xR0on
213.166.75.214:9118:TG48Yg:9xR0on
213.166.75.5:9115:TG48Yg:9xR0on
213.166.74.31:9700:TG48Yg:9xR0on
213.166.75.246:9125:TG48Yg:9xR0on
213.166.72.33:9999:TG48Yg:9xR0on
213.166.75.233:9905:TG48Yg:9xR0on
213.166.72.85:9155:TG48Yg:9xR0on
213.166.75.80:9092:TG48Yg:9xR0on
213.166.74.220:9379:TG48Yg:9xR0on
213.166.74.37:9439:TG48Yg:9xR0on
213.166.75.58:9973:TG48Yg:9xR0on
213.166.75.149:9933:TG48Yg:9xR0on
213.166.73.91:9164:TG48Yg:9xR0on
213.166.74.48:9851:TG48Yg:9xR0on
213.166.72.125:9123:TG48Yg:9xR0on
213.166.73.63:9778:TG48Yg:9xR0on
213.166.74.189:9069:TG48Yg:9xR0on
213.166.73.85:9589:TG48Yg:9xR0on
213.166.75.44:9876:TG48Yg:9xR0on
213.166.75.84:9766:TG48Yg:9xR0on
213.166.72.199:9562:TG48Yg:9xR0on
213.166.74.97:9400:TG48Yg:9xR0on
213.166.72.27:9171:TG48Yg:9xR0on
213.166.73.160:9426:TG48Yg:9xR0on
213.166.73.22:9175:TG48Yg:9xR0on
213.166.72.12:9474:TG48Yg:9xR0on
".split("\n")

proxies.each do |proxy_string|
  logger.noise "Updating proxies from file ... "
  proxy = proxy_string.split(":")
  Prox.create(host: proxy[0], port: proxy[1], status: Prox::ONLINE, login: proxy[2], password: proxy[3], provider: "proxy6")
  logger.say("Proxy #{proxy.first}:#{proxy.last} added to proxy pool")
end

Prox.flush
DB.disconnect
logger.noise "Finished."
